<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>対局順決定ツール（3～6人）</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
  body {
    font-family: sans-serif;
    text-align: center;
    padding: 20px;
  }
  h2 {
    margin-bottom: 10px;
  }
  select, button {
    font-size: 18px;
    padding: 8px 12px;
    margin: 10px;
  }
  .name-box {
    margin: 5px auto;
    width: 80%;
    max-width: 300px;
  }
  .name-box input {
    width: 100%;
    padding: 8px;
    font-size: 16px;
  }
  #result-area {
    margin-top: 20px;
    font-size: 20px;
  }
  .result-item {
    padding: 10px;
    margin: 6px auto;
    width: 80%;
    max-width: 300px;
    border: 1px solid #ccc;
    border-radius: 6px;
    background: #f9f9f9;
  }
</style>
</head>

<body>

<h2>対局順決定ツール（3～6人）</h2>

<label>参加人数:
  <select id="count" onchange="renderInputs()">
    <option value="3">3人</option>
    <option value="4">4人</option>
    <option value="5" selected>5人</option>
    <option value="6">6人</option>
  </select>
</label>

<div id="inputs"></div>

<button onclick="decide()">OK</button>

<h3>結果</h3>
<div id="result-area"></div>

<script>
// 入力欄を生成
function renderInputs() {
  const count = parseInt(document.getElementById("count").value);
  const area = document.getElementById("inputs");
  area.innerHTML = "";

  for (let i = 0; i < count; i++) {
    area.innerHTML += `
      <div class="name-box">
        <input id="name${i}" placeholder="名前 ${i+1}">
      </div>
    `;
  }
}

// ランダム決定
function decide() {
  const count = parseInt(document.getElementById("count").value);
  let names = [];

  for (let i = 0; i < count; i++) {
    const v = document.getElementById("name" + i).value.trim();
    names.push(v === "" ? `参加者${i+1}` : v);
  }

  // Fisher-Yates シャッフル
  for (let i = names.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [names[i], names[j]] = [names[j], names[i]];
  }

  // 結果表示
  const result = document.getElementById("result-area");
  result.innerHTML = "";
  names.forEach((n, i) => {
    result.innerHTML += `<div class="result-item">${i+1} 番目： ${n}</div>`;
  });
}

// 初期表示
renderInputs();
</script>

</body>
</html>
